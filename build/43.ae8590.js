(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{333:function(t,n,e){"use strict";e.r(n),e.d(n,"fetchExampleList",(function(){return y})),e.d(n,"fetchStudioList",(function(){return b})),e.d(n,"getInstanceApi",(function(){return A}));var r=e(245),a=e.n(r),c=e(247),i=e(76);function o(t){return d(t)||f(t)||s(t)||u()}function u(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function s(t,n){if(t){if("string"==typeof t)return l(t,n);var e=Object.prototype.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?l(t,n):void 0}}function f(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}function d(t){if(Array.isArray(t))return l(t)}function l(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function t(n){return typeof n}:function t(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(t)}var m=function t(n){return r.Feedback.toast.success(n)},h=function t(n,e){return r.Feedback.toast.error("".concat(n,": ").concat(String(e)))};function y(t){return Promise.all([c.default.fetch({api:"fetchAll",params:{module:"exampleChart"},data:{page:1,size:0}}),c.default.fetch({api:"fetchAll",params:{module:"exampleInstance"},data:{page:1,size:0}})]).then((function(n){var e=[],r=[],a={},c;n.every((function(t){return t&&0===t.status&&Array.isArray(t.data)}))?(n[0].data.forEach((function(t){t.children=[],a[t.class]?a[t.class].push(t):a[t.class]=[t]})),n[1].data.forEach((function(t){for(var e=0;e<n[0].data.length;e++)("object"===p(t.chart)?t.chart.name:t.chart)===n[0].data[e].name&&(n[0].data[e].children=[].concat(o(n[0].data[e].children),[t]).sort((function(t,n){return String(t.order_id).localeCompare(String(n.order_id))})),Object(i.isStaticSite)()&&(n[0].data[e].children=n[0].data[e].children.filter((function(t){return!Object(i.isThirdPartComp)(t.chart.name)&&!Object(i.isInternelDemo)(t.name)}))))})),Object(i.isStaticSite)()&&Object.keys(a).forEach((function(t){a[t]=a[t].filter((function(t){return!Object(i.isThirdPartComp)(t.name)}))})),Object.keys(a).forEach((function(t){e.push({name:t,children:a[t].map((function(t){return Object(i.isStaticSite)()&&Object(i.isThirdPartComp)(t.name)?null:{name:t.alias,icon:t.icon,href:"/example/".concat(t.name),tags:Object(i.isThirdPartComp)(t.name)?["npm"]:[]}})).filter((function(t){return!!t}))}),r.push({name:t,children:a[t]})}))):h("\u83b7\u53d6\u56fe\u8868\u793a\u4f8b\u5f02\u5e38"),t({type:"UPDATE_LIST",data:{nav:e,list:r}})})).catch((function(t){return h("\u83b7\u53d6\u56fe\u8868\u793a\u4f8b\u5f02\u5e38")}))}function b(t){return c.default.fetch({api:"fetchAll",params:{module:"studio"},data:{page:1,size:0}}).then((function(n){n&&0===n.status&&Array.isArray(n.data)?t({type:"UPDATE_LIST",data:{studio:n.data.reduce((function(t,n){return t[n.chart]="/studio/".concat(n.name),t}),{})}}):h("\u83b7\u53d6\u53ef\u89c6\u5316\u7f16\u8f91\u5f02\u5e38")})).catch((function(t){return h("\u83b7\u53d6\u53ef\u89c6\u5316\u7f16\u8f91\u5f02\u5e38")}))}function A(t,n){return c.default.fetch({api:"listApiByInstance",params:{instance:n},data:{page:1,size:0}}).then((function(n){n&&0===n.status&&Array.isArray(n.data)?t({type:"UPDATE_LIST",data:{api:n.data}}):h("\u83b7\u53d6\u5173\u8054API\u8be6\u60c5\u5f02\u5e38")})).catch((function(t){return h("\u83b7\u53d6\u5173\u8054API\u8be6\u60c5\u5f02\u5e38")}))}}}]);